//
// Created by j4ck on 3/7/24.
//
#include <windows.h>
#include <wchar.h>


UINT32 CRC32B(LPCSTR cString) {

    UINT32      	uMask         = 0x00;
    UINT32      	uHash         = 0xFFFFFFFF;
    INT         	i             = 0x00;

    while (cString[i] != 0) {

        uHash = uHash ^ (UINT32)cString[i];

        for (int ii = 0; ii < 8; ii++) {

            uMask = -1 * (uHash & 1);
            uHash = (uHash >> 1) ^ (0xEDB88320 & uMask);
        }

        i++;
    }

    return ~uHash;
}


int wmain() {
    //UINT32 x = CRC32B("msvcrt.dll");
    //UINT32 y = CRC32B("printf");
    UINT32 x = CRC32B("_fdopen");
    UINT32 y = CRC32B("_open_osfhandle");
    UINT32 z = CRC32B("GetStdHandle");
    UINT32 m = CRC32B("setvbuf");
    wprintf(L"%x\n%x\n%x\n%x", x, y, z, m);
    return 0;
}