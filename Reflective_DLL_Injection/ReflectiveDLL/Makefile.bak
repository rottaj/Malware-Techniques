# Compiler and flags
CC = gcc
CFLAGS = -Wall -shared -fPIC

# Source files and output DLL name
SRC = Dll.c
OUT = Reflective.dll

run:
	x86_64-w64-mingw32-gcc -s -w -Wall -Wextra -masm=intel -shared -fPIC -e DllMain -Os -fno-asynchronous-unwind-tables -o Reflective.dll -lntdll -luser32 -DWIN_X64
	x86_64-w64-mingw32-gcc -s -w -Wall -Wextra -masm=intel -shared -fPIC -e DllMain -Os -fno-asynchronous-unwind-tables Source/* -I Include -o Reflective.dll -lntdll -luser32 -DWIN_X64
	x86_64-w64-mingw32-gcc -s -w -Wall -Wextra -masm=intel -shared -fPIC -e DllMain -Os -fno-asynchronous-unwind -o Reflective.dll -lntdll -luser32 -DWIN_X64
